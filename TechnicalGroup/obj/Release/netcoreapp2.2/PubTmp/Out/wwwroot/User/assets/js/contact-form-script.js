$(document).ready(function () { var form = $('#message-contact'); var formMessages = $('.form-messages'); $(form).submit(function (e) { e.preventDefault(); var formData = $(form).serialize(); $.ajax({ type: 'POST', url: $(form).attr('action'), data: formData }).done(function (response) { $(formMessages).removeClass('error'); $(formMessages).addClass('success'); $(formMessages).text(response); $(this).find("input").val(""); $(form).trigger("reset") }).fail(function (data) { $(formMessages).removeClass('success'); $(formMessages).addClass('error'); if (data.responseText !== '') { $(formMessages).text(data.responseText) } else { $(formMessages).text('Mesajınız göndərilərkən xəta baş verdi.') } }) }); var numberOfProjectsTaken = 3; var totalCount = +$("#projectCount").val(); console.log(totalCount); $("#load_more_projects").click(function () { $.ajax({ url: "/Home/LoadProjects?skip=" + numberOfProjectsTaken, type: "GET", success: function (res) { $(".partialRow").append(res); numberOfProjectsTaken += 3; if (numberOfProjectsTaken >= totalCount) { $("#load_more_projects").remove() } } }) }); var numberOfProductsTaken = 4; var totalCountofProducts = +$("#productCount").val(); console.log(totalCountofProducts); $("#load_more_products").click(function () { $.ajax({ url: "/Home/LoadMoreProducts?skip=" + numberOfProductsTaken, type: "GET", success: function (res) { $(".productsRow").append(res); numberOfProductsTaken += 4; if (numberOfProductsTaken >= totalCountofProducts) { $("#load_more_products").remove() } } }) }); $("#selectCategory").on('change', function () { var selected = $(this).val(); console.log(selected); $.ajax({ url: "/home/loadproducts", type: "GET", data: { value: selected }, success: function (res) { $(".productsRow").empty(); if (res !== null) { console.log(res); $(".productsRow").append(res) } } }) }); $("#selectFilter").on('change', function () { var selected = $(this).val(); console.log(selected); $.ajax({ url: "/home/loadfilteredproducts", type: "GET", data: { value: selected }, success: function (res) { $(".productsRow").empty(); if (res !== null) { console.log(res); $(".productsRow").append(res) } } }) }) })